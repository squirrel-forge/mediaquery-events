!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var n=function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(e(this,n),!t||"function"!=typeof t.dispatchEvent)throw new Error(this.constructor.name+"::constructor Must define a valid event target!");this._target=t,this._queries={}}var i,r;return i=n,(r=[{key:"_require_query",value:function(e){var t=this;if(!this._queries[e]){var n=window.matchMedia(e);return n.onchange=function(n){return t._event_media(n,e)},this._queries[e]=n,n}return this._queries[e]}},{key:"_event_media",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={target:this,matches:e.matches,media:this._queries[t],event:e,query:t};this._dispatchEvent("media."+(e.matches?"on":"off"),i),this._dispatchEvent("media.change",i),(!0===n||e.matches)&&this._dispatchEvent(t,i)}},{key:"_dispatchEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new CustomEvent(e,{bubbles:!0,cancelable:!1,detail:t});this._target.dispatchEvent(n)}},{key:"requireQueries",value:function(e){for(var t=0;t<e.length;t++)this._require_query(e[t]);return this}},{key:"dispatchEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this._queries[e])throw new Error("Unknown media query: "+e);var n=new MediaQueryListEvent("change",{media:e,matches:t||this._queries[e].matches});this._event_media(n,e,!0)}},{key:"addEventListener",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this._require_query(e);if(this._target.addEventListener(e,t,n),!0!==i&&r.matches){var a={target:this,matches:!0,media:r,query:e};a.event=new MediaQueryListEvent("change",{media:e,matches:!0});var s=new CustomEvent(e,{bubbles:!0,cancelable:!1,detail:a});t.apply(this._target,[s])}return this}},{key:"removeEventListener",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._target.removeEventListener(e,t,n)}}])&&t(i.prototype,r),n}();window.mqe=new n,void 0===window.media&&(window.media=window.mqe)}();